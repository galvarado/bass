{% load static %}
{% load roles %}

<ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

  <!-- Brand -->
  <a class="sidebar-brand d-flex align-items-center justify-content-center" href="{% url 'dashboard' %}">
    <div class="sidebar-brand-icon text-center" style="padding: 20px 10px;">
      <img src="{% static 'img/basslogowhite.png' %}" 
           alt="BASS" 
           style="max-height:130px; width:auto; display:block; margin:auto;">
    </div>
  </a>

  <hr class="sidebar-divider my-0">

  <!-- Dashboard -->
  <li class="nav-item">
    <a class="nav-link {% if request.path == '/dashboard/' %}active{% endif %}" href="{% url 'dashboard' %}">
      <i class="fas fa-fw fa-tachometer-alt"></i> <span>Dashboard</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ======================= OPERACIÓN ======================= #}
  {% with section="operacion" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Operación</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-truck"></i> <span>Viajes</span>
    </a>
  </li>

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-map-marked-alt"></i> <span>Monitoreo</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ======================= CATÁLOGOS ======================= #}
  {% with section="catalogos" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Catálogos</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-list"></i> <span>Catálogos</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ===================== MANTENIMIENTO ===================== #}
  {% with section="mantenimiento" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Mantenimiento</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-tools"></i> <span>Taller</span>
    </a>
  </li>

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-warehouse"></i> <span>Almacén</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ====================== CUMPLIMIENTO ===================== #}
  {% with section="cumplimiento" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Cumplimiento</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-shield"></i> <span>CTPAT</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ===================== ADMINISTRACIÓN ==================== #}
  {% with section="administracion" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Administración</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-hand-holding-usd"></i> <span>Liquidación</span>
    </a>
  </li>

  <li class="nav-item">
    <a class="nav-link" href="">
      <i class="fas fa-file-invoice-dollar"></i> <span>Cobranza</span>
    </a>
  </li>

  <hr class="sidebar-divider">

  {# ========================= SISTEMA ======================= #}
  {% with section="sistema" %}
    {% if user|has_group:"superadmin" or user|has_group:"admin" or user|has_group:section %}
      <div class="sidebar-heading text-uppercase">Sistema</div>
    {% endif %}
  {% endwith %}

  <li class="nav-item">
    <a class="nav-link" href="{% url 'accounts:list' %}">
      <i class="fas fa-users-cog"></i> <span>Usuarios</span>
    </a>
  </li>

  {% with section="bitacora" %}
    {% if user|has_group:"superadmin" or user|has_group:section %}
  <li class="nav-item">
    <a class="nav-link" href="{% url 'audit:list' %}">
      <i class="fas fa-book"></i> <span>Bitácora</span>
    </a>
  </li>
    {% endif %}
  {% endwith %}

  <hr class="sidebar-divider d-none d-md-block">
</ul>
